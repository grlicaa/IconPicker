var fontapex=fontapex||{};function setElementIcon(p_name,p_val){$("input#"+p_name+".apex-item-has-icon").parent("div").find("span.apex-item-icon").attr("class","apex-item-icon fa "+p_val)}function setElementValue(p_name,p_val){$("input#"+p_name).val(p_val),$("#"+p_name+"_CONTAINER").addClass("js-show-label"),setElementIcon(p_name,p_val)}function setIGElementValue(p_regionId,p_rowId,p_column,p_val){const widget=apex.region(p_regionId).widget(),grid=widget.interactiveGrid("getViews","grid"),model=grid.model,fields=widget.interactiveGrid("getViews").grid.model.getOption("fields");let field="";for(var el in fields)fields[el].elementId===p_column&&(field=el);model.setRecordValue(p_rowId,field,p_val)}function closeDialogIP(is_grid,p_dialog,p_regionId,p_rowId,p_column,p_val){is_grid?($("#IconPickerDialogBox").dialog("close"),setIGElementValue(p_regionId,p_rowId,p_column,p_val)):(setElementValue(p_dialog,p_val),$("#IconPickerDialogBox").dialog("close"))}function addItemList(pItemList){$(pItemList).each((function(){try{$(this).iconList({multiple:!1,navigation:!0,itemSelector:!1})}catch(err){console.log(err.message)}}))}function loadIconPickerDialog(pDCloseB,pUseIconList){$("body").append('<div id="IconPickerDialogBox"></div>'),$("#IconPickerDialogBox").dialog({modal:!0,title:"Icon Picker",autoOpen:!1,resizable:!0,width:600,height:800,closeOnEscape:!0,tirggElem:"",tirggItem:{},showIconLabel:!0,modalItem:!1,useIconList:pUseIconList,open:function(){window.addEventListener("keydown",(function(event){[37,38,39,40].indexOf(event.keyCode)>-1&&event.preventDefault()})),initIcons(fontapex,$(this).dialog("option","tirggElem"),$(this).dialog("option","tirggItem"),{is_grid:$(this).dialog("option","modalItem"),showIconLabel:$(this).dialog("option","showIconLabel"),useIconList:$(this).dialog("option","useIconList")})},close:function(){$("main.dm-Body").remove()},cancel:function(){$("main.dm-Body").remove()},buttons:[{text:pDCloseB,click:function(){$(this).dialog("close")}}]})}function initIcons(fa,p_dialog,p_item,pOpt){var $=fa.$,L="LARGE",S="SMALL",ITM=p_item||{regionId:"",rowId:"",column:""},CL_LARGE="force-fa-lg",wLocation,currentIcon=window.location.hash.replace("#","")||"fa-apex",isLarge,timeout,apexIcons,apexIconKeys,flattened=[],icons$=$("#icons"),_isLarge=function(value){if(value)try{localStorage.setItem("large.fontapex",value)}catch(e){isLarge=value}else try{return localStorage.getItem("large.fontapex")||"false"}catch(e){return isLarge||(isLarge="false")}},isPreviewPage,highlight=function(txt,str){return txt.replace(new RegExp("("+str+")","gi"),'<span class="highlight">$1</span>')},renderIcons=function(opts){var output;clearTimeout(timeout);var debounce=opts.debounce||50,key=opts.filterString||"",keyLength=key.length;key=key.toUpperCase().trim();var assembleHTML=function(resultSet,iconCategory){var size="true"===_isLarge()?L:S,getEntry=function(cl){return'<li role="navigation"><a class="dm-Search-result" href="javascript:closeDialogIP('+pOpt.is_grid+",'"+p_dialog+"','"+ITM.regionId+"','"+ITM.rowId+"','"+ITM.column+"','"+cl+'\');" aria-labelledby="iplist"><div class="dm-Search-icon"><span class="t-Icon fa '+cl+'" aria-hidden="true"></span></div>'+(pOpt.showIconLabel?'<div class="dm-Search-info"><span class="dm-Search-class">'+cl+"</span></div>":"")+"</a></li>"};iconCategory?(output=(output+='<div class="dm-Search-category">')+'<h2 class="dm-Search-title">'+iconCategory.replace(/_/g," ").toLowerCase()+" Icons</h2>",output+='<ul class="dm-Search-list" id="iplist">',resultSet.forEach((function(iconClass){output+=getEntry(iconClass.name)})),output+="</ul>",output+="</div>"):resultSet.length>0&&resultSet.forEach((function(iconClass){output+=getEntry(iconClass.name)}))},search=function(){if(1!==key.length){var resultSet=[],resultsTitle="";output="",""===key?apexIconKeys.forEach((function(iconCategory){resultSet=apexIcons[iconCategory].sort((function(a,b){return a.name<b.name?-1:a.name>b.name?1:0})),assembleHTML(resultSet,iconCategory)})):((resultSet=flattened.filter((function(curVal){var name=curVal.name.toUpperCase().slice(3),nameArr,filters=curVal.filters?curVal.filters.toUpperCase():"",filtersArr,firstXletters,rank=0,i,filterArrLen,j,nameArrLen;if(key.indexOf(" ")>0&&(key=key.replace(" ","-")),name.indexOf(key)>=0){for(nameArrLen=(nameArr=name.split("-")).length,name.indexOf("-")<0&&(rank+=1e3),name.length===keyLength&&(rank+=1e3),(firstXletters=nameArr[0].slice(0,keyLength)).indexOf(key)>=0&&(rank+=1e3),j=0;j<nameArrLen;j++)nameArr[j]&&nameArr[j].indexOf(key)>=0&&(rank+=100);return curVal.rank=rank,!0}for(filterArrLen=(filtersArr=filters.split(",")).length,i=0;i<filterArrLen;i++)if((firstXletters=filtersArr[i].slice(0,keyLength)).indexOf(key)>=0)return curVal.rank=1,!0}))).sort((function(a,b){var ar=a.rank,br=b.rank;return ar>br?-1:ar<br?1:0})),assembleHTML(resultSet),resultsTitle=0===resultSet.length?"No results":resultSet.length+" Results",output='<div class="dm-Search-category"><h2 class="dm-Search-title">'+resultsTitle+'</h2><ul class="dm-Search-list" id="iplist">'+output+"</ul>",output+="</div>"),document.getElementById("icons").innerHTML=output}};timeout=setTimeout((function(){search(),pOpt.useIconList&&addItemList("ul#iplist")}),debounce)},toggleSize=function(that,affected){that.checked=!0,that.value===L?(affected.addClass(CL_LARGE),_isLarge("true")):(affected.removeClass(CL_LARGE),_isLarge("false"))},downlodSVGBtn=function(){$("button.pv-Button").on("click",(function(){var size="true"===_isLarge()?L.toLowerCase():S.toLowerCase();window.open("../svgs/"+size+"/"+currentIcon.replace("fa-","")+".svg")}))},set;(function(){return $("#icon_preview").length>0})()?("true"===_isLarge()?(document.getElementById("icon_size_large").checked=!0,icons$.addClass(CL_LARGE)):(document.getElementById("icon_size_small").checked=!0,icons$.removeClass(CL_LARGE)),currentIcon&&($(".dm-Icon-name").text(currentIcon),$("[data-icon]").removeClass("fa-apex").addClass(currentIcon),renderIconPreview(),downlodSVGBtn()),$("input, select").on("change",(function(){renderIconPreview()}))):("true"===_isLarge()?(document.getElementById("icon_size_large").checked=!0,icons$.addClass(CL_LARGE)):(document.getElementById("icon_size_small").checked=!0,icons$.removeClass(CL_LARGE)),fa.icons&&(renderIcons({}),set=[],apexIcons=fa.icons,(apexIconKeys=Object.keys(apexIcons)).forEach((function(iconCategory){set=set.concat(apexIcons[iconCategory])})),flattened=set,$("#search").on("keyup",(function(e){renderIcons({debounce:250,filterString:e.target.value})})),$('[name="icon_size"]').on("click",(function(e){var affectedElem=icons$.length>0?icons$:$(".dm-IconPreview");toggleSize(this,affectedElem)}))))}NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),fontapex.$=function(selector){var Sel=function(selector){var selected=[];return"string"==typeof selector?selected=document.querySelectorAll(selector):selected.push(selector),this.elements=selected,this.length=this.elements.length,this};return Sel.prototype={addClass:function(cl){var str,classArray=cl.replace(/ +(?= )/g,"").split(" ");return this.elements.forEach((function(elem){classArray.forEach((function(c){c&&elem.classList.add(c)}))})),this},removeClass:function(cl){var removeAllClasses,removeOneClass,action=cl?function(el){el.classList.remove(cl)}:function(el){el.className=""};return this.elements.forEach((function(elem){action(elem)})),this},getClass:function(){return this.elements[0].classList.value},on:function(eventName,func){return this.elements.forEach((function(elem){elem.addEventListener(eventName,func)})),this},val:function(){var val="";return this.elements.forEach((function(elem){switch(elem.nodeName){case"INPUT":elem.checked&&(val=elem.value);break;case"SELECT":val=elem.options[elem.selectedIndex].value}})),val},text:function(t){return t&&this.elements.forEach((function(elem){elem.textContent=t})),this},html:function(h){var html;return"string"==typeof h?(this.elements.forEach((function(elem){elem.innerHTML=h})),this):(this.elements.forEach((function(elem){html=elem.innerHTML})),html)},parent:function(){var p;return this.elements.forEach((function(elem){p=new Sel(elem.parentNode)})),p},hide:function(){return this.elements.forEach((function(elem){elem.style.display="none"})),this},show:function(t){return this.elements.forEach((function(elem){elem.style.display=null})),this}},new Sel(selector)};